<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>abrirlo!</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="intro-screen">
        <div class="intro-content">
            <h1 class="surprise-text">SURPRISE!<br>ğŸ</h1>
            <p>í™”ë©´ì„ í„°ì¹˜í•´ ë³´ì„¸ìš”</p>
        </div>
    </div>

    <div id="main-content" style="display: none;">
        <div class="snow-container"></div>

        <div class="container">
            <h1>ğŸ„ Merry Christmas! ğŸ„</h1>
            
            <div class="video-box">
                <iframe 
                    id="yt-video"
                    src="" 
                    title="YouTube video player" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            </div>

            <p class="message">Mi amor Kelvin<br>feliz Navidad</p>
            <button class="wish-btn">å®ƒæ˜¯ä»€ä¹ˆ</button>
        </div>
    </div>

    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-body">
                <h2>ğŸ Mensaje Especial</h2>
                <hr>
                <p>Feliz de conocerte este aÃ±o. Entre risas, llantos y peleas, soy muy feliz contigo. â¤ï¸</p>
            </div>
        </div>
    </div>

    <script>
        // DOMContentLoaded: HTML ë¬¸ì„œ ë¡œë“œ ì™„ë£Œ í›„ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', () => {
            const introScreen = document.getElementById('intro-screen');
            const mainContent = document.getElementById('main-content');
            const ytVideo = document.getElementById('yt-video');
            const wishBtn = document.querySelector('.wish-btn');
            const modal = document.getElementById("myModal");
            const closeModalBtn = modal.querySelector('.close');

            // ì¸íŠ¸ë¡œ í™”ë©´ í´ë¦­/í„°ì¹˜ ì‹œ ë©”ì¸ í˜ì´ì§€ ë¡œë“œ
            introScreen.addEventListener('click', startPage);
            introScreen.addEventListener('touchend', startPage); // ëª¨ë°”ì¼ í„°ì¹˜ ëŒ€ì‘

            function startPage() {
                introScreen.style.display = 'none';
                mainContent.style.display = 'flex'; // CSSì—ì„œ flexë¡œ ì¤‘ì•™ ì •ë ¬

                // ìœ íŠœë¸Œ ì˜ìƒ ìë™ ì¬ìƒ (ì‚¬ìš©ì ì¸í„°ë™ì…˜ í›„)
                const videoId = "Ash3MpGRI9E";
                ytVideo.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=0&loop=1&playlist=${videoId}&start=44`;
                
                // ëˆˆ ë‚´ë¦¬ê¸° ì‹œì‘
                setInterval(createSnow, 150);
            }

            // ëˆˆì†¡ì´ ìƒì„± (ğŸ–•)
            function createSnow() {
                const snowContainer = document.querySelector('.snow-container');
                if (!snowContainer) return; // ì»¨í…Œì´ë„ˆ ì—†ìœ¼ë©´ ì¤‘ë‹¨
                
                const snowflake = document.createElement('div');
                snowflake.classList.add('snowflake');
                snowflake.textContent = 'ğŸ–•'; 
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
                snowflake.style.opacity = Math.random();
                snowflake.style.fontSize = Math.random() * 15 + 15 + 'px';

                snowContainer.appendChild(snowflake);
                setTimeout(() => { snowflake.remove(); }, 5000);
            }

            // íŒì—… ì—´ê¸°/ë‹«ê¸°
            function openModal() {
                modal.style.display = "flex";
            }

            function closeModal() {
                modal.style.display = "none";
            }

            // ë²„íŠ¼ í´ë¦­/í„°ì¹˜ ì´ë²¤íŠ¸ ë“±ë¡
            wishBtn.addEventListener('click', openModal);
            wishBtn.addEventListener('touchend', (e) => {
                e.preventDefault(); // ê¸°ë³¸ í„°ì¹˜ ì´ë²¤íŠ¸ ë°©ì§€ (í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë§‰ì§€ ì•ŠìŒ)
                openModal();
            });

            // ë‹«ê¸° ë²„íŠ¼ í´ë¦­/í„°ì¹˜
            closeModalBtn.addEventListener('click', closeModal);
            closeModalBtn.addEventListener('touchend', (e) => {
                e.preventDefault();
                closeModal();
            });

            // íŒì—… ë°”ê¹¥ í´ë¦­/í„°ì¹˜ ì‹œ ë‹«ê¸°
            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
            window.addEventListener('touchend', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>
